<!DOCTYPE html>
<html>
<head>
	<meta charset = "UTF-8">
	<title>Page Title</title>
</head>
<body>
	<div class = "resulter"></div>
	<button class = "button", id = "Rock">Rock</button>
	<button class = "button", id = "Scissor">Scissor</button>
	<button class = "button", id = "Paper">Paper</button>
	<div class = "logger"></div>
	<script>
		const logger = document.querySelector('.logger');
		const resulter = document.querySelector('.resulter');
		playerCount = 0;
		compCount = 0;
		matchCount = 0;

		const button = document.querySelectorAll('button');
		button.forEach(button => button.addEventListener('click', ()=> {
			playRockPaper(button.id, getComputerChoice());
			if (playerCount == 5) {
				winner();
				playerCount == 0;
				compCount == 0;
			}
			else if (compCount == 5) {
				winner();
				playerCount == 0;
				compCount == 0;
			}
  		}));

		const myArray = ["Rock", "Paper", "Scissor"];
		function getComputerChoice() {
			// 0 = rock, 1 = paper, 2 = scissor
			return myArray[~~(Math.random() * myArray.length)];	
		}
		function playRockPaper (playerSelection, computerSelection) {
			playerSelection = playerSelection.toLowerCase();
			computerSelection = computerSelection.toLowerCase();
			if (playerSelection == computerSelection){
				result("It's a Draw");
			}
			else if (playerSelection == "rock" && computerSelection == "paper") {
				result("Computer wins the round");
				compCount++;
			}
			else if (playerSelection == "paper" && computerSelection == "scissor") {
				result("Computer wins the round");
				compCount++;
			}
			else if (playerSelection == "scissor" && computerSelection == "rock") {
				result("Computer wins the round");
				compCount++;
			}
			else if (playerSelection == "paper" && computerSelection == "rock") {
				result("Player wins the round");
				playerCount++;
			}
			else if (playerSelection == "scissor" && computerSelection == "paper") {
				result("Player wins the round");
				playerCount++;
			}
			else if (playerSelection == "rock" && computerSelection == "scissor") {
				result("Player wins the round");
				playerCount++;
			}	
			else {
				console.log("Invalid choice");
			}
			matchCount++;
		} 
		
		function result(string) {
			logger.textContent = string;
		}
		
		function winner() {
			if (playerCount == 5) {
				resulter.textContent = "Player is the Winner!";
			} 
			else if (compCount == 5) {
				resulter.textContent = "Player Lost :()";
			}  
		}
	
		function resetGame() {
			matchCount == 0;
			playerCount == 0;
			compCount == 0;
		}
	</script>
</body>
</html>
